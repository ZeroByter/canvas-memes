<body>
  <style>
    canvas {
      position: fixed;
      left: 0px;
      top: 0px;
      width: 100%;
      height: 100%;
    }
  </style>

  <canvas></canvas>

  <script type="module">
    import vector2 from "/vector2.js";
    import * as math from "/math.js";

    const canvas = document.querySelector("canvas");
    const ctx = canvas.getContext("2d");

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const size = 100;

    ctx.fillStyle = "black";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    let speed = 10;
    let loop = canvas.height / speed;
    let x = 0;
    let y = 0;

    function frame(time) {
      time = time / 1000;

      for (let i = 0; i < loop; i++) {
        ctx.fillStyle = `hsl(${Math.random() * 360}deg 100% 10%)`;
        ctx.fillRect(x, y, size, size);

        x += speed;
        y += speed;

        if (x > canvas.width) {
          x = -size;
        }

        if (y > canvas.height) {
          y = -size;
        }
      }

      window.requestAnimationFrame(frame);
    }
    window.requestAnimationFrame(frame);
  </script>
</body>
